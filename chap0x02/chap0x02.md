## 实验目的

- 通过 iOS 或Android 系统为研究对象，进行访问控制的理解和设计

## 实验环境

- 操作系统版本：HarmonOS 2.0.0
- 硬件设备型号：华为nova7
- 是否默认设置：是

## 操作系统的访问控制设计实例研究

- 以 iOS 和 Android 系统（这里是Harmony）为研究对象：
  - 当系统处于锁屏状态下接收到新短信时，不解锁情况下
    - 系统是否允许查看短信内容？
    不允许
    
    - 系统是否允许回复短信？
    不允许

  - 当系统处于锁屏状态下，使用系统内置（例如 iOS 的 Siri ）或第三方的语音助手可以完成以下哪些操作？
    - 访问通讯录
      不可以
    
    - 拨打电话
    
      可以
    
    - 访问相册
    
      不可以
    
    - 查看短信收件箱
    
      不可以
    
  - 如果你的手机支持指纹识别解锁手机，请实验并分析指纹识别相比较于简单密码、复杂密码、图形解锁、人脸识别解锁、声纹解锁等解锁方式的安全性、便利性差异。
  
    | 密码类型     | 安全性                                                       | 便利性                                           |
    | ------------ | ------------------------------------------------------------ | ------------------------------------------------ |
    | 简单密码     |不安全，可以通过枚举法很轻松破解| 解锁方便，比较好记住                         |
    | 复杂密码     | 比较安全                     | 输入不方便，且记忆不容易         |
    | 图形密码     | 强度取决于图案的复杂程度，图形越简单，越容易被破解| 相比复杂密码较方便            |
    | 人脸识别解锁 | 某种程度来讲并不安全，因为存在两个长相极为相似的人，也受环境中光线的影响       | 较方便，只需要很短时间就能解锁 |
    | 声纹解锁     | 并不安全，声音很容易被模仿 | 通常来讲较为方便，如果环境中噪音很大就会有问题                         |
    | 指纹识别解锁 | 安全性较高，但需要注意指纹的痕迹问题 | 方便，很短时间就能解锁，但对手指的干净情况有要求 |

思考题：

- 以上设计实现方式属于我们课堂上讲过的哪种强制访问控制模型？Lattice/BLP？Biba？
    Biba模型，可以上读下写，锁屏时只能读短信，属于上读；解开屏幕以后，可以回复短信，属于下写。

<br>

- 系统或第三方应用程序是否提供了上述功能的访问控制规则修改？如果修改默认配置，是提高了安全性还是降低了安全性？
    提供了相应修改；修改默认配置的话，给予的权限越多，安全性就会越低。




## 课后思考

#### **1.生物特征身份认证方式有哪些？优缺点分析？应用场景举例。**
- 指纹：
    * 优点：
        * 是人体独一无二的特征，安全性高；
        * 识别方式简单，且可以同时录入多个手指的指纹；
    * 缺点：
        * 容易留下痕迹，被盗取；
        * 识别过程与手部的干净程度有关，可能会识别不上；
    * 应用：
        * 广泛地应用到政府、军队、银行、社会福利保障、电子商务和安全防卫等领域，如：手机解锁、电子门禁等
<br>

- 人脸：
    * 优点：
        * 识别速度快，可以同时识别到多个人脸；
        * 不需要与设备直接接触，就可以获取人脸图像特征；
    * 缺点：
        * 化浓妆或脸部受伤时可能会识别不上，与周围环境或光线也会有关系；
        * 长相相似的人（例如双胞胎）会被混淆；
        * 成本较低，易于推广使用；
    * 应用：
        * 门禁、解锁、支付等
<br>

- 声纹：
    * 优点：
        * 不用接触设备，可距离设备的距离范围大；
        * 实现难度低；
    * 缺点：
        * 不同年龄阶段的声音不同，且不同人之间容易进行仿造；
        * 受环境影响较大；
    * 应用：
        * 监听跟踪
<br>

- 虹膜：
    * 优点：
        * 不需要与设备接触；
        * 个体的虹膜结构独一无二、不具遗传性，并且自童年以后基本不再变化；
    * 缺点：
        * 成本较高，无法大面积普及；
    * 应用：
        * 门禁
<br>

- DNA:
    * 优点：
        * 在整个人类范围内具有唯一性（除了同卵双胞胎可能具有同样结构的DNA外）和永久性;
    * 缺点：
        * 提取、实现起来复杂，限制了实时性；
        * 重大疾病可能会改变人体的DNA；
    * 应用：
        * 司法领域使用较多；

#### **2.“找回口令功能”和“忘记密码”在访问授权机制中的意义？请尝试设计几种安全的“找回口令功能”，详细描述找回口令的用户具体操作过程。**
* 意义：在用户真的忘记口令时提供一种使得用户正常登陆访问的方式；
* 设计：
    网站随机给出口令，通过用户的短信或邮箱告知，并要求在规定时间内登入网站将口令换成自己新设置的口令；

#### **3. 绘制用户使用用户名/口令+图片验证码方式录系统的流程图。考虑认证成功和失败两种场景，考虑授权成功和失败两种场景。**
![1](https://user-images.githubusercontent.com/74172793/190939030-ab61e8be-c406-490a-8a70-e3c2fe5b8e91.png)

#### **4.Windows XP / 7 中的访问控制策略有哪些？访问控制机制有哪些？**
* 访问控制策略：
    *基于角色的访问控制：根据访问者身份及允许访问的权限进行决策；
    * 强制访问控制：拒绝对未经授权的用户和组的访问、设置对提供给授权用户和组的访问权限的明确定义限制；
* 访问控制机制：
    * 访问令牌（包含关于登录用户的信息）
    * 安全描述符（包含用于保护一个安全对象的安全信息）

#### **5.用权限三角形模型来理解并描述下 2 种威胁模型：提权、仿冒。**
* 提权：
    * 含义：就是提高自己在服务器中的权限，比如在windows中本身登录的用户是guest，通过提权后就变成超级管理员，拥有了管理Windows的所有权限；
    * 分为：水平特权提升、垂直特权提升；
    * 对于权限三角形模型而言，提权相当于角色不变，权限改变（扩大）；
* 仿冒：
    * 含义：一个用户以另一用户的身份进行了认证，拥有了不属于自己的权利；
    * 对于权限三角形模型而言，角色发生了变换，于是权限也跟着变化；

#### **6.试通过操作系统的访问控制机制来达到预防一种真实病毒的运行目的。**
对于木马病毒而言，可以设置防火墙，根据连接网络的数据包进行监控，当有不明程序想要进入系统或者连出网络时，防火墙都会在第一时间拦截，并检查身份；可以进行网页的弹窗设置，禁止网页弹窗，以预防病毒。

#### **7.什么是 OAuth？**
开放授权，是一个开放标准，允许用户让第三方应用访问该用户在某一网站上存储的私密的资源（如照片，视频，联系人列表），而无需将用户名和密码提供给第三方应用。 OAuth允许用户提供一个令牌，而不是用户名和密码来访问他们存放在特定服务提供者的数据。每一个令牌授权一个特定的网站（例如，视频编辑网站)在特定的时段（例如，接下来的2小时内）内访问特定的资源（例如仅仅是某一相册中的视频）。这样，OAuth让用户可以授权第三方网站访问他们存储在另外服务提供者的某些特定信息，而非所有内容。

OAUTH协议为用户资源的授权提供了一个安全的、开放而又简易的标准。同时，任何第三方都可以使用OAUTH认证服务，任何服务提供商都可以实现自身的OAUTH认证服务，因而OAUTH是开放的。

#### **8.什么是 OpenID？**
OpenID是一个去中心化的网上身份认证系统。对于支持OpenID的网站，用户不需要记住像用户名和密码这样的传统验证标记。取而代之的是，他们只需要预先在一个作为OpenID身份提供者的网站上注册。OpenID是去中心化的，任何网站都可以使用OpenID来作为用户登录的一种方式，任何网站也都可以作为OpenID身份提供者。OpenID既解决了问题而又不需要依赖于中心性的网站来确认数字身份。

#### **9.试用本章所学理论分析 OAuth 和 OpenID 的区别与联系。**
OpenID是网站对用户进行认证，让网站知道“你是你所声称的URL的属主”，OAuth 其实并不包括认证，只不过“只有认证成功的人才能进行授权”，结果类似于“认证+授权”了，更侧重于授权；二者是互补的；

#### **10.如何使用 OAuth 和 OpenID 相关技术实现单点登录（Single Sign On）？**
* OpenID
    * 用户第一次登录时，将用户名密码发送给用户服务
    * 验证用户将用户标识OpenId返回到客户端
    * 客户端进行存储
    * 访问子系统,将OpenId发送到子系统
    * 子系统将OpenId转发到验证服务
    * 验证服务将用户认证信息返回给子系统
    * 子系统构建用户验证信息后将授权后的内容返回给客户端
* OAuth
    * 用户首先要保持登录，即已认证通过的状态
    * 第三方应用请求用户授权
    * 用户授权成功之后会向Authorization Server（认证服务器）请求“授权码”（指authorization_code而不是最终的access_token），请求中还会携带redirect_uri（跳转至第三方应用的链接）
    * 获得“授权码”之后用户所在的浏览器网页将跳转到redirect_uri（即第三方应用）
    * 第三方应用携带“授权码”和应用认证信息（client_id & client_secret）到Authorization Server换取access_token
    * 第三方应用就可以在访问开放平台时带上access_token




## 参考
- [生物特征识别](https://baike.baidu.com/item/%E7%94%9F%E7%89%A9%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB/2050841)
- [openid实现单点登录](https://blog.csdn.net/qq_43614498/article/details/102882724)
- [oauth实现单点登录](https://segmentfault.com/a/1190000005357718)
